# Лабораторна робота No22
## Тема: LSP: виявлення порушень і альтернативи.
## Мета: Поглибити розуміння принципу підстановки Лісков (LSP), навчитися ідентифікувати його порушення в ієрархіях класів та застосовувати альтернативні підходи (композиція, зміна ієрархії) для створення LSP-сумісних рішень.

## 1. Початкова ієрархія класів (з порушенням LSP)

### Опис ієрархії
Було створено базовий клас `Rectangle`, який описує прямокутник з властивостями `Width` та `Height`. Контракт цього класу передбачає, що ширина та висота є незалежними величинами і можуть змінюватися окремо.

Від класу `Rectangle` наслідується клас `Square`, який перевизначає властивості `Width` та `Height` таким чином, що зміна однієї сторони автоматично змінює іншу. Це зроблено для підтримки геометричної властивості квадрата.

## 2. Аналіз порушення принципу LSP
Згідно з принципом підстановки Лісков, будь-який об’єкт похідного класу повинен без проблем замінювати об’єкт базового класу без зміни коректності роботи програми.

У даній ієрархії виникає порушення LSP, оскільки:
 - Базовий клас Rectangle гарантує незалежність зміни ширини та висоти.
 - Похідний клас Square змінює цей контракт, примусово синхронізуючи значення обох сторін.
 - Клієнтський код працює з типом Rectangle і очікує, що встановлення ширини не вплине на висоту.
У результаті, при підстановці об’єкта Square замість Rectangle, клієнтський метод отримує некоректний результат обчислення площі, що свідчить про порушення принципу LSP.
## 3. Альтернативне рішення з дотриманням LSP
**Обраний підхід**

Було обрано підхід зміни ієрархії класів шляхом використання інтерфейсів.
Функціональність читання та зміни списку була розділена.
## 4. Нова структура класів
**Опис:**
Опис нової архітектури

`IShape` — спільний інтерфейс для геометричних фігур, який визначає метод обчислення площі.

`RectangleLsp` — клас прямокутника, що реалізує інтерфейс `IShape` і має незалежні властивості ширини та висоти.

`SquareLsp` — клас квадрата, який також реалізує `IShape`, але використовує власний контракт у вигляді однієї властивості `Side`.

## 5. Коректна робота клієнтського коду
Після рефакторингу клієнтський код працює з абстракцією IShape, не залежачи від конкретної реалізації фігури. Це дозволяє безпечно використовувати як прямокутник, так і квадрат без ризику отримання некоректних результатів або порушення логіки програми.
## Висновок
Порушення принципу підстановки Лісков може призводити до прихованих логічних помилок у програмі.
Наслідування не повинно змінювати поведінковий контракт базового класу.
Зміна ієрархії та використання спільних інтерфейсів дозволяє уникнути порушень LSP.
Дотримання принципу LSP підвищує надійність, передбачуваність та якість об’єктно-орієнтованого програмного забезпечення.